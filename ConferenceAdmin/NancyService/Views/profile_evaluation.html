<div ng-controller="profileEvaluationCtrl as vm">
    <!--  List of evaluation when select one aparece lo de abajo
    <a href="#/EvaluateSubmission">Abstract / Bios</a> -->

    <h4 id="g-information">Evaluations</h4>
    <div ng-hide="vm.evaluate">
        <table ng-table="tableParams" show-filter="true" class="table row">
            <tr>
                <td><b>Submision Title</b></td>
                <td><b>User Type</b></td>
                <td><b>Topic</b></td>
                <td><b>Is Evaluated</b></td>
            </tr>
            <tr ng-repeat="submission in vm.submissionlist">
                <td data-title="'Title'">
                    <a href="" ng-click="vm.showEvaluationScreen(submission.submissionID, submission.evaluatorID)">{{submission.submissionTitle}}</a>
                </td>

                <td>{{submission.userType}}</td>

                <td>{{submission.topic}}</td>

                <td>
                    <div ng-show="submission.isEvaluated"><i class="fa fa-check"> </i></div>
                </td>
            </tr>
        </table>
    </div>
    <div class="container" ng-show="vm.evaluate">
        <!-- build:include layout/header.html --><!-- /build -->
        <div>
            <!--<div class="panel-heading">Evaluation</div>-->
            <div class="panel-body">

                <form role="form" name="addEvaluationForm" novalidate>
                    <div class="row ">
                        <div class="form-group col-sm-5">

                            <label>Tittle:</label> {{vm.modalsubmissionTitle}}<br />
                            <label>Topic:</label> {{vm.modaltopic}}<br />
                            <label>Submission Type:</label> {{vm.modalsubmissionType}}<br /><br />
                            <span class="upload-caption" ng-show="vm.modalevaluationFile != null || vm.modalevaluationFile != undefined">Evaluation File: <a href="" ng-click="vm.downloadEvaluationFile()"><br /> <i class="fa fa-file"> </i> {{vm.modalevaluationName}}</a></span>
                        </div>
                        <div class="col-sm-5 agenda-list">
                            <ul class="list-group">
                                <li class="list-group-item">Abstract<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalsubmissionAbstract, 'Abstract')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalpanelistNames" class="list-group-item">Panelists' Names<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalpanelistNames, 'Panelist Names')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalplan" class="list-group-item">Plan<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalplan, 'Plan')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalguideQuestions" class="list-group-item">Guide Questions<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalguideQuestions, 'Guide Questions')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalformat" class="list-group-item">Format<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalformat, 'Format')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalequipment" class="list-group-item">Equipment<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalequipment, 'Equipment')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modalduration" class="list-group-item">Duration<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modalduration, 'Duration')"><span class="right">Open</span></a></li>
                                <li ng-show="vm.modaldelivery" class="list-group-item">Delivery<a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(vm.modaldelivery, 'Delivery')"><span class="right">Open</span></a></li>
                                <li ng-repeat="file in vm.modalsubmissionFileList" class="list-group-item">{{file.documentName}} <a href="" data-toggle="modal" data-target="#evaluationModal" ng-click="vm.getDocumentSubmitted(file.document, file.documentName)"><span class="right">Open</span></a></li>
                            </ul>

                        </div>

                        <div class="col-sm-2">
                            <center>
                                <h5 class="margin-fix">Evaluation File</h5>
                                <div class="row">
                                    <!--<button class="btn btn-ar btn-primary eval_btn"> <i class="fa fa-upload"> </i> Upload </button>-->
                                    <label>Upload Evaluation File</label> <input type="file" ng-model="vm.modalevaluationFile" class="form-control" name="upload" file-model="myFile" on-read-file="showContent($fileContent)" required>
                                </div><br />
                                <div class="row">
                                    <!--<button class=" btn btn-ar btn-primary eval_btn"> <i class="fa fa-download"> </i> Download </button>-->
                                    <button type="submit" class="btn btn-ar btn-primary left" data-dismiss="modal" ng-click="vm.downloadEvaluationTemplate()">Download Template</button>
                                </div>
                            </center>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="">Public Comment</label>
                        <input class="form-control" type="text" name="modalpublicFeedback" ng-model="vm.modalpublicFeedback">
                    </div>

                    <div class="form-group">
                        <label for="">Private Comment</label>
                        <input class="form-control" type="text" name="modalprivateFeedback" ng-model="vm.modalprivateFeedback" required>
                        <p ng-show="addEvaluationForm.modalprivateFeedback.$invalid" class="help-block">Private feedback is required.</p>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <label>Score:&nbsp;</label>
                            <input class="small-input form-control" ng-pattern="/^[1-9][0-9]{0,2}(?:,?[0-9]{3}){0,3}(?:\.[0-9]{1,2})?$/" type="number" step="any" name="modalevaluationScore" ng-model="vm.modalevaluationScore" required>
                            <p ng-show="addEvaluationForm.modalevaluationScore.$invalid" class="help-block">Score is required.</p>
                        </div>

                    </div><br />
                    <button type="submit" data-toggle="modal" data-target="#addTopic" class="btn btn-ar btn-primary" ng-disabled="addEvaluationForm.modalprivateFeedback.$invalid || addEvaluationForm.modalevaluationScore.$invalid">Submit</button>
                    <button class="btn btn-ar btn-default" ng-click="vm.hideEvaluationForm()">Back</button>
                </form>
            </div>
        </div> <!-- panel panel-primary -->

    </div>


    <div class="modal fade" id="evaluationModal" tabindex="-1" role="dialog" aria-labelledby="evaluationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="evaluationModalLabel">Title: {{vm.modalDocumentName}}</h4>
                </div>
                <div class="modal-body">
                    {{vm.modalDocument}}
                </div>
                <div class="modal-footer">

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addTopic" tabindex="-1" role="dialog" aria-labelledby="deleteLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="addTopicLabel">Submit Evaluation</h4>
                </div>
                <div class="modal-body">
                    Are you sure you want to submit the evaluation?
                </div>
                <div class="modal-footer">
                    <button class="btn btn-ar btn-primary left" data-dismiss="modal" ng-click="vm.addEvaluation(myFile)">Submit</button>
                    <button class="btn btn-ar btn-default left" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>